<app-tete></app-tete>

<nav class="flex">
  <nav style="position: fixed">
<app-sidenav></app-sidenav>
</nav>
<div class="parttwo">
    <hr>
    <section class="head">
      
        <div>
          
<h2 style="padding-right: 640px;color: rgb(16, 140, 241)">Admissions </h2>
<p style="color:gray;font-size: 9pt;">TED university</p>
</div>
</section>
<mat-accordion>
  <mat-expansion-panel (opened)="panelOpenState = true"
  (closed)="panelOpenState = false" (click)="getAdmissionsByDiplome('MASTER_CYBERSECURITY')">
    <mat-expansion-panel-header>
      
      <mat-panel-title >
      Master Cyber Security
      </mat-panel-title>
    
    </mat-expansion-panel-header>
    
        <div class="dropdown" style="padding-left: 800px;padding-bottom: 10pt;">
      <a class="btn btn-light  btn-sm  dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
        Filter
      </a>
 
      <ul class="dropdown-menu">
        <li><div class="form-check">
          <input class="form-check-input" type="checkbox" value="" id="flexCheckDefault">
          <label class="form-check-label" for="flexCheckDefault">
          Mention trés bien
          </label>
        </div></li>
        <li><div class="form-check">
          <input class="form-check-input" type="checkbox" value="" id="flexCheckDefault">
          <label class="form-check-label" for="flexCheckDefault">
          Mention Bien
          </label>
        </div></li>
        <li><div class="form-check">
          <input class="form-check-input" type="checkbox" value="" id="flexCheckDefault">
          <label class="form-check-label" for="flexCheckDefault">
          Certificats
          </label>
        </div></li>
      </ul>
    </div>
    <table class="table align-middle mb-0 bg-white">
      <thead class="bg-light">
        <tr>
          <th>id</th>
          <th>Name</th>
          <th>Class</th>
         <th>Date admission</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr  *ngFor="let admission of admissionDetails">
          <td>{{ admission.idAdmission }}</td>
          <td>
            <div class="d-flex align-items-center">
              <img 
                  src="{{admission.CIN}}"
                  alt=""
                  style="width: 45px; height: 45px"
                  class="rounded-circle"
                  />
              <div class="ms-3">
                <p class="fw-bold mb-1"> {{ admission.firstname }} {{ admission.lastname }}</p>
                <p class="text-muted mb-0">{{ admission.mail }}</p>
              </div>
            </div>
          </td>
          <td >
           
            <p class="text-muted mb-0">{{ admission.diplome }}</p>
          </td>
          <td>{{ admission.dateAdmission }}</td>
          <td>
          
              <div style="color:blue;"><i class="fa fa-eye" aria-hidden="true"  data-bs-toggle="modal" data-bs-target="#exampleModal1" id="view"(click)="loadDemandeAdmissionDetails(admission.idAdmission)" ></i></div>
            
   
          </td>
        </tr>
       
      </tbody>
    </table>
  </mat-expansion-panel>
  <mat-expansion-panel (opened)="panelOpenState = true"
  (closed)="panelOpenState = false" (click)="getAdmissionsByDiplome('MASTER_CLOUD_COMPUTING_ET_VIRTUALISATION')">
    <mat-expansion-panel-header>
      
      <mat-panel-title>
      Master Cloud Computing et virtualisation.
      </mat-panel-title>
    
    </mat-expansion-panel-header>
    <table class="table align-middle mb-0 bg-white">
      <thead class="bg-light">
        <tr>
          <th>id</th>
          <th>Name</th>
          <th>Class</th>
         <th>Date admission</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr  *ngFor="let admission of admissionDetails">
          <td>{{ admission.idAdmission }}</td>
          <td>
            <div class="d-flex align-items-center">
              <img
                  src=""
                  alt=""
                  style="width: 45px; height: 45px"
                  class="rounded-circle"
                  />
              <div class="ms-3">
                <p class="fw-bold mb-1"> {{ admission.firstname }} {{ admission.lastname }}</p>
                <p class="text-muted mb-0">{{ admission.mail }}</p>
              </div>
            </div>
          </td>
          <td >
          
            <p class="text-muted mb-0">{{ admission.diplome }}</p>
          </td>
          <td>{{ admission.dateAdmission }}</td>
          <td>
          
              <div style="color:blue;"><i class="fa fa-eye" aria-hidden="true"  data-bs-toggle="modal" data-bs-target="#exampleModal1" id="view"(click)="loadDemandeAdmissionDetails(admission.idAdmission)" ></i></div>
            
   
          </td>
        </tr>
       
      </tbody>
    </table>
  </mat-expansion-panel>
  <mat-expansion-panel (opened)="panelOpenState = true"
  (closed)="panelOpenState = false" (click)="getAdmissionsByDiplome('LICENCE_BIG_DATA_ET_ANALYSE_DE_DONNEES')">
    <mat-expansion-panel-header>
      
      <mat-panel-title>
     Licence Big data et analyse de données 
      </mat-panel-title>
    
    </mat-expansion-panel-header>
    <table class="table align-middle mb-0 bg-white">
      <thead class="bg-light">
        <tr>
          <th>id</th>
          <th>Name</th>
          <th>Class</th>
         <th>Date admission</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr  *ngFor="let admission of admissionDetails">
          <td>{{ admission.idAdmission }}</td>
          <td>
            <div class="d-flex align-items-center">
              <img
                  src=""
                  alt=""
                  style="width: 45px; height: 45px"
                  class="rounded-circle"
                  />
              <div class="ms-3">
                <p class="fw-bold mb-1"> {{ admission.firstname }} {{ admission.lastname }}</p>
                <p class="text-muted mb-0">{{ admission.mail }}</p>
              </div>
            </div>
          </td>
          <td >
           
            <p class="text-muted mb-0">{{ admission.diplome }}</p>
          </td>
          <td>{{ admission.dateAdmission }}</td>
          <td>
          
              <div style="color:blue;"><i class="fa fa-eye" aria-hidden="true"  data-bs-toggle="modal" data-bs-target="#exampleModal1" id="view"(click)="loadDemandeAdmissionDetails(admission.idAdmission)" ></i></div>
            
   
          </td>
        </tr>
       
      </tbody>
    </table>
  </mat-expansion-panel>
  <mat-expansion-panel (opened)="panelOpenState = true"
                       (closed)="panelOpenState = false" (click)="getAdmissionsByDiplome('LICENCE_COMPUTING_SCIENCE_GLI')">
    <mat-expansion-panel-header>
      <mat-panel-title>
        Licence Computing science GLI
      </mat-panel-title>
    
    </mat-expansion-panel-header>
    <table class="table align-middle mb-0 bg-white">
      <thead class="bg-light">
        <tr>
          <th>id</th>
          <th>Name</th>
          <th>Class</th>
         <th>Date admission</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr  *ngFor="let admission of admissionDetails">
          <td>{{ admission.idAdmission }}</td>
          <td>
            <div class="d-flex align-items-center">
              <img
                  src=""
                  alt=""
                  style="width: 45px; height: 45px"
                  class="rounded-circle"
                  />
              <div class="ms-3">
                <p class="fw-bold mb-1"> {{ admission.firstname }} {{ admission.lastname }}</p>
                <p class="text-muted mb-0">{{ admission.mail }}</p>
              </div>
            </div>
          </td>
          <td >
           
            <p class="text-muted mb-0">{{ admission.diplome }}</p>
          </td>
          <td>{{ admission.dateAdmission }}</td>
          <td>
          
              <div style="color:blue;"><i class="fa fa-eye" aria-hidden="true"  data-bs-toggle="modal" data-bs-target="#exampleModal1" id="view"(click)="loadDemandeAdmissionDetails(admission.idAdmission)" ></i></div>
            
   
          </td>
        </tr>
       
      </tbody>
    </table>
  </mat-expansion-panel>
        <mat-expansion-panel (opened)="panelOpenState = true"
        (closed)="panelOpenState = false" (click)="getAdmissionsByDiplome('EXCUTIVE_MBA')">
      <mat-expansion-panel-header>
      <mat-panel-title>
      Executive MBA
      </mat-panel-title>
     
      
      </mat-expansion-panel-header>
      <table class="table align-middle mb-0 bg-white">
        <thead class="bg-light">
          <tr>
            <th>id</th>
            <th>Name</th>
            <th>Class</th>
           <th>Date admission</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr  *ngFor="let admission of admissionDetails">
            <td>{{ admission.idAdmission }}</td>
            <td>
              <div class="d-flex align-items-center">
                <img
                    src=""
                    alt=""
                    style="width: 45px; height: 45px"
                    class="rounded-circle"
                    />
                <div class="ms-3">
                  <p class="fw-bold mb-1"> {{ admission.firstname }} {{ admission.lastname }}</p>
                  <p class="text-muted mb-0">{{ admission.mail }}</p>
                </div>
              </div>
            </td>

            <td >
           
              <p class="text-muted mb-0">{{ admission.diplome }}</p>
            </td>
            <td>{{ admission.dateAdmission }}</td>
            <td>
            
                <div style="color:blue;"><i class="fa fa-eye" aria-hidden="true"  data-bs-toggle="modal" data-bs-target="#exampleModal1" id="view"(click)="loadDemandeAdmissionDetails(admission.idAdmission)" ></i></div>
              
     
            </td>
          </tr>
         
        </tbody>
      </table>
      </mat-expansion-panel>
</mat-accordion>



</div>



</nav>
 <!--modal-->
<div class="modal fade" id="exampleModal1" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h3 class="modal-title" id="exampleModalLabel" >Informations</h3>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <section class="two" style="display: flex;justify-content: space-evenly;">
        <img [src]="getCVVImageUrl()" id="img">
        <div class="col-lg-9 col-md-12">

    
        <label>Nom et prénom : <h4> {{ Details?.nom }} {{ Details?.prenom }}</h4></label><br>
        <label>Date de naissance : <h4>{{ Details?.dateAdmission }} </h4></label><br>
          <label>Mail : <h4>{{ Details?.mail }} </h4></label><br>
       <hr style="color:brown;height: 10px;" ><br>
          <label > CV :</label><br><img [src]="getCVVImageUrl()" id="img">

          
          
          <br>
          
        </div>
      </section>
      <div class="modal-footer">
        <button type="button" class="btn btn-tertiary"  style="color:red" data-bs-toggle="modal" data-bs-target="#exampleModal2" >Reject <i class="fa fa-times" aria-hidden="true"></i></button>
       
        <button type="button"class="btn btn-tertiary" style="color:green" data-bs-toggle="modal" data-bs-target="#exampleModal3">Accept  <i class="fa fa-check" aria-hidden="true"></i></button>
      </div>
    </div>
  </div>
</div></div>
<!--modal2-->

<div class="modal fade" id="exampleModal2" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
       
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <div style="text-align:center;">
        <i class="fa fa-exclamation-circle" aria-hidden="true" style="color:orange;font-size: 100px;"></i>
     
        <h1>Are you sure ?</h1>
        <p>You will not be able to recover this admission!!!</p>
      </div>
      
      <div class="modal-footer" >
        <button type="button" class="btn btn-tertiary"  style="color:grey" data-bs-dismiss="modal" >Cancel </button>
        <button class="btn btn-tertiary" style="color:rgb(229, 7, 7)"  data-bs-dismiss="modal" (click)=" deleteDemandeAdmission(Details.idAdmission)">yes,delete it !</button>
      </div>
    
  </div>
</div>
</div>
</div>

<!--modal3-->

<div class="modal fade" id="exampleModal3" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
       
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <div style="text-align:center;">
          <i class="fa fa-check-circle-o" aria-hidden="true" style="font-size: 80pt;color:green"></i>
        <h1>{{ Details?.nom }} {{ Details?.prenom }} chose to make his <br> <a style="color:rgb(220, 184, 6)">Interview  <i class="fa fa-calendar-check-o" aria-hidden="true"></i></a> {{ Details?.typeDemande }} </h1>
      
      </div>
      <p style="font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;color: blue;">
        A mail will be send to the candidat informing him the date of his interview(+ 7 days from getting accepted)</p>
        <div>
         
          
          
        </div>
        
        <br>
      <div class="modal-footer">
        <button type="button" class="btn btn-tertiary"  style="color:grey" data-bs-dismiss="modal" >Cancel </button>
        <button type="button" class="btn btn-tertiary" style="color:green" data-bs-dismiss="modal" (click)="showToast()">Yes, accept it!</button>
      </div>
    
  </div>
</div>
</div>
</div>