<app-tete></app-tete>

<nav class="flex">
  <nav style="position: fixed">
<app-sidenav></app-sidenav>
</nav>
<div class="parttwo">
    <hr>
    <section class="head">
      
        <div>
          
<h2 style="padding-right: 640px;color: rgb(16, 140, 241)">Admissions </h2>
<p style="color:gray;font-size: 9pt;">TED university</p>
</div>
</section>
<mat-accordion>
  <mat-expansion-panel (opened)="panelOpenState = true"
  (closed)="panelOpenState = false">
    <mat-expansion-panel-header>
      
      <mat-panel-title>
      Master Cyber Security
      </mat-panel-title>
    
    </mat-expansion-panel-header>
    
        <div class="dropdown" style="padding-left: 800px;padding-bottom: 10pt;">
      <a class="btn btn-light  btn-sm  dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
        Filter
      </a>
 
      <ul class="dropdown-menu">
        <li><div class="form-check">
          <input class="form-check-input" type="checkbox" value="" id="flexCheckDefault">
          <label class="form-check-label" for="flexCheckDefault">
          Mention tr√©s bien
          </label>
        </div></li>
        <li><div class="form-check">
          <input class="form-check-input" type="checkbox" value="" id="flexCheckDefault">
          <label class="form-check-label" for="flexCheckDefault">
          Mention Bien
          </label>
        </div></li>
        <li><div class="form-check">
          <input class="form-check-input" type="checkbox" value="" id="flexCheckDefault">
          <label class="form-check-label" for="flexCheckDefault">
          Certificats
          </label>
        </div></li>
      </ul>
    </div>
    <table class="table align-middle mb-0 bg-white">
      <thead class="bg-light">
        <tr>
          <th>id</th>
          <th>Name</th>
          <th>Class</th>
         <th>Date admission</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let admission of DemandeAdmission">
          <td>{{ admission.idAdmission }}</td>
          <td>
            <div class="d-flex align-items-center">
              <img
                  src="https://mdbootstrap.com/img/new/avatars/8.jpg"
                  alt=""
                  style="width: 45px; height: 45px"
                  class="rounded-circle"
                  />
              <div class="ms-3">
                <p class="fw-bold mb-1"> {{ admission.firstname }} {{ admission.lastname }}</p>
                <p class="text-muted mb-0">{{ admission.mail }}</p>
              </div>
            </div>
          </td>
          <td >
            <p class="fw-normal mb-1">{{ admission.typeDemande }}</p>
            <p class="text-muted mb-0">{{ admission.cursus }}</p>
          </td>
          <td>{{ admission.dateAdmission }}</td>
          <td>
          
              <div style="color:blue;"><i class="fa fa-eye" aria-hidden="true"  data-bs-toggle="modal" data-bs-target="#exampleModal1" id="view"(click)="loadDemandeAdmissionDetails(admission.idAdmission)" ></i></div>
            
   
          </td>
        </tr>
       
      </tbody>
    </table>
  </mat-expansion-panel>
  <mat-expansion-panel (opened)="panelOpenState = true"
  (closed)="panelOpenState = false">
    <mat-expansion-panel-header>
      
      <mat-panel-title>
      Master Cloud Computing et virtualisation.
      </mat-panel-title>
    
    </mat-expansion-panel-header>
    <p>This is the primary content of the panel.</p>
  </mat-expansion-panel>
  <mat-expansion-panel (opened)="panelOpenState = true"
  (closed)="panelOpenState = false">
    <mat-expansion-panel-header>
      
      <mat-panel-title>
     Licence Big data et analyse de donn√©es 
      </mat-panel-title>
    
    </mat-expansion-panel-header>
    <table>
      <thead>
        <tr>
          <th>Id</th>
          <th>Date d'admission</th>
          <th>Type de demande</th>
          <th>Dipl√¥me</th>
          <th>Niveau</th>
          <th>Cursus</th>
          <th>CIN</th>
          <th>Nom parent</th>
          <th>Pr√©nom parent</th>
          <th>Email parent</th>
          <th>T√©l√©phone parent</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let admission of DemandeAdmission">
          <td>{{ admission.idAdmission }}</td>
          <td>{{ admission.dateAdmission }}</td>
          <td>{{ admission.typeDemande }}</td>
          <td>{{ admission.firstname }}</td>
          <td>{{ admission.lastname }}</td>
          <td>{{ admission.cursus }}</td>
          
          <td>{{ admission.mail }}</td>
      
          <td>
            <button class="modifier" (click)="updateDemandeAdmission(admission)">Modify üîÅ</button>
            <button class="supprimer" (click)="deleteDemandeAdmission(admission.idAdmission)">Delete üóëÔ∏è</button>
          </td>
  
        </tr>
      </tbody>
    </table>
  </mat-expansion-panel>
  <mat-expansion-panel (opened)="panelOpenState = true"
                       (closed)="panelOpenState = false">
    <mat-expansion-panel-header>
      <mat-panel-title>
        Licence Computing science GLI
      </mat-panel-title>
    
    </mat-expansion-panel-header>
    <p>I'm visible because I am open</p>
  </mat-expansion-panel>
        <mat-expansion-panel (opened)="panelOpenState = true"
        (closed)="panelOpenState = false">
      <mat-expansion-panel-header>
      <mat-panel-title>
      Executive MBA
      </mat-panel-title>
     
      
      </mat-expansion-panel-header>
      <p>I'm visible because I am open</p>
      </mat-expansion-panel>
</mat-accordion>



</div>



</nav>
 <!--modal-->
<div class="modal fade" id="exampleModal1" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h3 class="modal-title" id="exampleModalLabel" >Informations</h3>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <section class="two" style="display: flex;justify-content: space-evenly;">
        <img src="\assets\male.jpg" id="img">
        <div class="col-lg-9 col-md-12">

    
        <label>Nom et pr√©nom : <h4> {{ admissionDetails?.nom }} {{ admissionDetails?.prenom }}</h4></label><br>
        <label>Date de naissance : <h4>{{ admissionDetails?.dateAdmission }} </h4></label><br>
          <label>Mail : <h4>{{ admissionDetails?.mail }} </h4></label><br>
       <hr style="color:brown;height: 10px;" ><br>
          <label > CV :</label><br>
          <label > Liste de ses formations :</label><br><br><br>
        </div>
      </section>
      <div class="modal-footer">
        <button type="button" class="btn btn-tertiary"  style="color:red" data-bs-toggle="modal" data-bs-target="#exampleModal2" >Reject <i class="fa fa-times" aria-hidden="true"></i></button>
       
        <button type="button"class="btn btn-tertiary" style="color:green" data-bs-toggle="modal" data-bs-target="#exampleModal3">Accept  <i class="fa fa-check" aria-hidden="true"></i></button>
      </div>
    </div>
  </div>
</div></div>
<!--modal2-->

<div class="modal fade" id="exampleModal2" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
       
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <div style="text-align:center;">
        <i class="fa fa-exclamation-circle" aria-hidden="true" style="color:orange;font-size: 100px;"></i>
     
        <h1>Are you sure ?</h1>
        <p>You will not be able to recover this admission!!!</p>
      </div>
      
      <div class="modal-footer">
        <button type="button" class="btn btn-tertiary"  style="color:grey" data-bs-dismiss="modal" >Cancel </button>
        <button type="button"class="btn btn-tertiary" style="color:rgb(229, 7, 7)">yes,delete it !</button>
      </div>
    
  </div>
</div>
</div>
</div>

<!--modal3-->

<div class="modal fade" id="exampleModal3" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
       
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <div style="text-align:center;">
          <i class="fa fa-check-circle-o" aria-hidden="true" style="font-size: 80pt;color:green"></i>
        <h1>This candidat chose to make his <br> <a style="color:rgb(220, 184, 6)">Interview  <i class="fa fa-calendar-check-o" aria-hidden="true"></i></a> {{ admissionDetails?.typeDemande }} </h1>
      
      </div>
      <p style="font-family: 'Gill Sans', 'Gill Sans MT', Calibri, 'Trebuchet MS', sans-serif;color: blue;">
        A mail will be send to the candidat informing him the date of his interview</p>
        <div>
          <label>Interview date</label>
          <div class="input-group">
            <input class="form-control" placeholder="yyyy-mm-dd" name="dp" [(ngModel)]="model" ngbDatepicker #d="ngbDatepicker">
            <button class="btn btn-outline-secondary bi bi-calendar3" (click)="d.toggle()" type="button"></button>
          </div>
        </div>
        
        <br>
      <div class="modal-footer">
        <button type="button" class="btn btn-tertiary"  style="color:grey" data-bs-dismiss="modal" >Cancel </button>
        <button type="button" class="btn btn-tertiary" style="color:green" data-bs-dismiss="modal" (click)="showToast()">Yes, accept it!</button>
      </div>
    
  </div>
</div>
</div>
</div>